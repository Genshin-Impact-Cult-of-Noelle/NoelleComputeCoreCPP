#pragma once
#include "诺艾尔.h"
using namespace DB::RoleConstruct;
//TODO:!!AUTO诺艾尔.cpp
const double HP = 12071.155460843933;
const double ATK = 191.15747659430235;
const double DEF = 798.5501533747884;
//防御力
const double OTHER = 0.30000001192092896;

诺艾尔::~诺艾尔() {
}
诺艾尔::诺艾尔() {
	BaseObject* baseData = new BaseObject();
	static Attr
		* HelathAttr = new Attr(HP, 0., 0.),
		* AtkAttr = new Attr(ATK, 0., 0.),
		* DefAttr = new Attr(DEF, 0., 0.),
		* CritRateAttr = new Attr(0.05, 0., 0.),
		* CritDamageAttr = new Attr(0.5, 0., 0.);
	baseData->SetAttr((u32)AttrType::Helath, HelathAttr);
	baseData->SetAttr((u32)AttrType::Atk, AtkAttr);
	baseData->SetAttr((u32)AttrType::Def, DefAttr);
	baseData->SetAttr((u32)AttrType::CritRate, CritRateAttr);
	baseData->SetAttr((u32)AttrType::CritDamage, CritDamageAttr);
	this->rawCharacter = new Character(baseData, CharacterGender::Female, CharacterGroup::Tivat, ElementType::Geo, WeaponType::Claymore);
	delete baseData;
};

/*

****1:全心全意
****************

	诺艾尔处于队伍后台，且当前场上自己的角色的生命值低于30%时自动触发：
	为当前场上自己的角色生成一个伤害吸收量等同于诺艾尔防御力400%的护盾，持续20秒。
	·对所有元素伤害与物理伤害有150%的吸收效果。
	该效果60秒内只能触发一次。

****************


****2:干净利落
****************

	诺艾尔的普通攻击或重击累计命中敌人4次，会减少❤护心铠❤1秒的冷却。
	每0.1秒至多计数一次。

****************


****3:女仆的态度
****************

	完美烹饪防御类食物时，有12%概率获得2倍产出。

****************

*/

/*******普通攻击·西风剑术·女仆
一段伤害|{param1:F1P}
二段伤害|{param2:F1P}
三段伤害|{param3:F1P}
四段伤害|{param4:P}
重击循环伤害|{param5:F1P}
重击终结伤害|{param6:F1P}
重击体力消耗|每秒{param7:F1}点
最大持续时间|{param8:F1}秒
下坠期间伤害|{param9:F1P}
低空/高空坠地冲击伤害|{param10:P}/{param11:P}
*/
void 诺艾尔::A(Role* role, u32 cmd) {
	const static double** SkillPrama = new const double* [15]{
			new const double[11]{ 0.7911999821662903,0.7335799932479858,0.8625800013542175,1.1343400478363037,0.5073999762535095,0.9047200083732605,40,5,0.7458779811859131,1.4914400577545166,1.862889051437378},
			new const double[11]{ 0.8555999994277954,0.7932900190353394,0.9327899813652039,1.2266700267791748,0.5486999750137329,0.9783599972724915,40,5,0.8065890073776245,1.6128360033035278,2.0145199298858643},
			new const double[11]{ 0.9200000166893005,0.8529999852180481,1.003000020980835,1.319000005722046,0.5899999737739563,1.0520000457763672,40,5,0.8672999739646912,1.734233021736145,2.1661500930786133},
			new const double[11]{ 1.0119999647140503,0.9383000135421753,1.1032999753952026,1.4508999586105347,0.6489999890327454,1.1571999788284302,40,5,0.9540299773216248,1.907655954360962,2.382765054702759},
			new const double[11]{ 1.0764000415802002,0.998009979724884,1.173509955406189,1.5432300567626953,0.6902999877929688,1.2308399677276611,40,5,1.0147409439086914,2.0290520191192627,2.534395933151245},
			new const double[11]{ 1.149999976158142,1.066249966621399,1.253749966621399,1.6487499475479126,0.737500011920929,1.315000057220459,40,5,1.08412504196167,2.1677908897399902,2.707688093185425},
			new const double[11]{ 1.2511999607086182,1.1600799560546875,1.3640799522399902,1.7938400506973267,0.8023999929428101,1.4307199716567993,40,5,1.179527997970581,2.358556032180786,2.9459640979766846},
			new const double[11]{ 1.3523999452590942,1.253909945487976,1.474410057067871,1.9389300346374512,0.8672999739646912,1.5464400053024292,40,5,1.2749309539794922,2.5493218898773193,3.1842410564422607},
			new const double[11]{ 1.4536000490188599,1.3477400541305542,1.5847400426864624,2.084019899368286,0.932200014591217,1.662160038948059,40,5,1.3703340291976929,2.7400870323181152,3.4225170612335205},
			new const double[11]{ 1.5640000104904175,1.4500999450683594,1.7051000595092773,2.242300033569336,1.003000020980835,1.7884000539779663,40,5,1.474410057067871,2.948194980621338,3.682455062866211},
			new const double[11]{ 1.674399971961975,1.552459955215454,1.8254599571228027,2.4005799293518066,1.073799967765808,1.914639949798584,40,5,1.5784859657287598,3.1563029289245605,3.9423930644989014},
			new const double[11]{ 1.7848000526428223,1.6548199653625488,1.9458199739456177,2.5588600635528564,1.1446000337600708,2.040879964828491,40,5,1.682561993598938,3.3644111156463623,4.202331066131592},
			new const double[11]{ 1.8952000141143799,1.7571799755096436,2.0661799907684326,2.717139959335327,1.215399980545044,2.1671199798583984,40,5,1.7866380214691162,3.572519063949585,4.462268829345703},
			new const double[11]{ 2.0055999755859375,1.8595399856567383,2.186539888381958,2.875420093536377,1.2862000465393066,2.2933599948883057,40,5,1.8907140493392944,3.7806270122528076,4.722207069396973},
			new const double[11]{ 2.115999937057495,1.961899995803833,2.3069000244140625,3.0336999893188477,1.3569999933242798,2.419600009918213,40,5,1.994789958000183,3.9887349605560303,4.982144832611084}
	};
	const double* curData = SkillPrama[cmd && 0xFF000000];
	////////下面是技能实现
	const u32 command = (cmd && 0xFF00) >> 8;


};


/*******护心铠
技能伤害|{param6:P}防御力
吸收量|{param1:P}防御力+{param7:I}
治疗量|{param2:F1P}防御力+{param8:I}
治疗触发几率|{param3:P}
持续时间|{param4:F1}秒
冷却时间|{param5:F1}秒
*/
void 诺艾尔::E(Role* role, u32 cmd) {
	const static double** SkillPrama = new const double* [15]{
			new const double[8]{ 1.600000023841858,0.21279999613761902,0.5,12,24,1.2000000476837158,769.7850952148438,102.718017578125},
			new const double[8]{ 1.7200000286102295,0.2287600040435791,0.5099999904632568,12,24,1.2899999618530273,846.7742919921875,112.99124908447266},
			new const double[8]{ 1.840000033378601,0.244719997048378,0.5199999809265137,12,24,1.3799999952316284,930.1792602539062,124.12057495117188},
			new const double[8]{ 2,0.26600000262260437,0.5299999713897705,12,24,1.5,1020,136.10601806640625},
			new const double[8]{ 2.119999885559082,0.28196001052856445,0.5400000214576721,12,24,1.590000033378601,1116.2364501953125,148.9475555419922},
			new const double[8]{ 2.240000009536743,0.29791998863220215,0.550000011920929,12,24,1.6799999475479126,1218.8887939453125,162.6451873779297},
			new const double[8]{ 2.4000000953674316,0.3192000091075897,0.5600000023841858,12,24,1.7999999523162842,1327.956787109375,177.1989288330078},
			new const double[8]{ 2.559999942779541,0.3404799997806549,0.5699999928474426,12,24,1.9199999570846558,1443.440673828125,192.60877990722656},
			new const double[8]{ 2.7200000286102295,0.3617599904537201,0.5799999833106995,12,24,2.0399999618530273,1565.3402099609375,208.87472534179688},
			new const double[8]{ 2.880000114440918,0.38304001092910767,0.5899999737739563,12,24,2.1600000858306885,1693.655517578125,225.99676513671875},
			new const double[8]{ 3.0399999618530273,0.40432000160217285,0.5899999737739563,12,24,2.2799999713897705,1828.38671875,243.97491455078125},
			new const double[8]{ 3.200000047683716,0.42559999227523804,0.6000000238418579,12,24,2.4000000953674316,1969.5335693359375,262.8091735839844},
			new const double[8]{ 3.4000000953674316,0.4521999955177307,0.6000000238418579,12,24,2.549999952316284,2117.09619140625,282.4995422363281},
			new const double[8]{ 3.5999999046325684,0.4787999987602234,0.6000000238418579,12,24,2.700000047683716,2271.07470703125,303.0459899902344},
			new const double[8]{ 3.799999952316284,0.5054000020027161,0.6000000238418579,12,24,2.8499999046325684,2431.46875,324.44854736328125}
	};
	const double* curData = SkillPrama[cmd && 0xFF];
	////////下面是技能实现   
};


/*******大扫除
爆发伤害|{param1:F1P}
技能伤害|{param2:F1P}
攻击力提高|{param3:P}防御力
持续时间|{param4:F1}秒
冷却时间|{param5:F1}秒
元素能量|{param6:I}
*/
void 诺艾尔::Q(Role* role, u32 cmd) {
	const static double** SkillPrama = new const double* [15]{
			new const double[6]{ 0.671999990940094,0.9279999732971191,0.4000000059604645,15,15,60},
			new const double[6]{ 0.7224000096321106,0.9976000189781189,0.4300000071525574,15,15,60},
			new const double[6]{ 0.7728000283241272,1.067199945449829,0.46000000834465027,15,15,60},
			new const double[6]{ 0.8399999737739563,1.159999966621399,0.5,15,15,60},
			new const double[6]{ 0.8903999924659729,1.229599952697754,0.5299999713897705,15,15,60},
			new const double[6]{ 0.9408000111579895,1.2992000579833984,0.5600000023841858,15,15,60},
			new const double[6]{ 1.0080000162124634,1.3919999599456787,0.6000000238418579,15,15,60},
			new const double[6]{ 1.0751999616622925,1.4847999811172485,0.6399999856948853,15,15,60},
			new const double[6]{ 1.1424000263214111,1.5776000022888184,0.6800000071525574,15,15,60},
			new const double[6]{ 1.2095999717712402,1.6704000234603882,0.7200000286102295,15,15,60},
			new const double[6]{ 1.2768000364303589,1.763200044631958,0.7599999904632568,15,15,60},
			new const double[6]{ 1.343999981880188,1.8559999465942383,0.800000011920929,15,15,60},
			new const double[6]{ 1.4279999732971191,1.972000002861023,0.8500000238418579,15,15,60},
			new const double[6]{ 1.5119999647140503,2.0880000591278076,0.8999999761581421,15,15,60},
			new const double[6]{ 1.5959999561309814,2.2039999961853027,0.949999988079071,15,15,60}
	};
	const double* curData = SkillPrama[cmd && 0xFF];
	////////下面是技能实现   
};
/*****诺艾尔

	***1命***
	支援就交给我吧
	同时处于❤大扫除❤与❤护心铠❤状态时，护心铠的生命值回复效果触发几率提升至100%。

	***2命***
	旋风女仆
	诺艾尔的重击的体力消耗降低20%，伤害提升15%。

	***3命***
	女仆不会受伤
	❤护心铠❤的技能等级提高3级。至多提升至15级。

	***4命***
	之后会扫干净的
	❤护心铠❤在效果结束时，或因伤害破碎时，会对周围的敌人造成400%攻击力的岩元素伤害。

	***5命***
	骑士团扫除专家
	❤大扫除❤的技能等级提高3级。至多提升至15级。

	***6命***
	要一尘不染才行
	❤大扫除❤额外提高诺艾尔防御力50%的攻击力；此外，在技能持续时间内，每打倒1个敌人，其持续时间将延长1秒，最多不会超过10秒。

*/

